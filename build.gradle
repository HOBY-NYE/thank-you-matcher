plugins {
    id 'com.github.johnrengelman.shadow' version '2.0.4'
    id 'java'
    id 'application'
    id "org.sonarqube" version "2.6.1"
}

repositories {
    jcenter()
}

dependencies {
    compile 'org.apache.poi:poi-ooxml:3.17'
}

group       = 'org.hoby.nye'
version     = '1.1.0'
description = 'Creates an Excel spreadsheet with information about who a student should write a thank you letter to.'

mainClassName = 'org.hoby.nye.thank_you_matcher.ThankYouMatcher'

shadowJar {
    baseName = project.name
    version = null
    classifier = null

    manifest {
        attributes('Description': project.description)
    }
}

shadowDistTar {
    classifier = null
}

tasks.withType(JavaCompile) {
    sourceCompatibility = 1.8
    targetCompatibility = 1.8
    options.encoding    = 'UTF-8'
    options.compilerArgs.add('-Xlint:deprecation')
}

task Wrapper(type: Wrapper) {
    description      = 'Generates gradlew and gradlew.bat scripts'
    gradleVersion    = '4.7'
    distributionType = Wrapper.DistributionType.ALL
}