plugins {
    id 'application'

    id 'org.sonarqube' version '2.8'
//    id 'com.github.johnrengelman.shadow' version '2.0.4'
}

repositories {
    jcenter()
}

dependencies {
    implementation 'org.apache.poi:poi-ooxml:3.17'
}

group       = 'org.hoby.nye.tym'
version     = '1.1.0'
description = 'Creates an Excel spreadsheet with information about who a student should write a thank you letter to.'

sourceCompatibility = 1.8
targetCompatibility = 1.8


wrapper {
    gradleVersion    = '6.1.1'
    distributionType = Wrapper.DistributionType.ALL
}

application {
    mainClassName = 'org.hoby.nye.tym.ThankYouMatcher'
}

sonarqube {
    properties {
        property 'sonar.projectName', 'Thank You Matcher'
    }
}

tasks.withType(JavaCompile) {
    options.encoding    = 'UTF-8'
    options.compilerArgs += ['-Xlint:deprecation']
}

task sourcesJar(type: Jar) {
    archiveClassifier = 'sources'
    from sourceSets.main.allJava
}

task javadocJar(type: Jar) {
    archiveClassifier = 'javadoc'
    from javadoc.destinationDir
}
javadocJar.dependsOn(javadoc)

artifacts {
    archives sourcesJar
    archives javadocJar
}